{% extends "store/base.html" %}
{% load static %}

{% block title %}All Books{% endblock %}

{% block content %}
<body>
        <section class="py-5 text-center container">
    <h2 class="mb-4 text-center">Add Category</h2>
    <a href="{% url 'store:dashboard' %}" class="btn btn-primary mb-3">Back to Dashboard</a>

    <form method="post">
        {% csrf_token %}
        <div class="form-group">
            <label for="id_name">Category Name:</label>
            <input type="text" id="id_name" name="name" class="form-control" required>
        </div>
        <div class="form-group">
            <label for="id_slug"></label>
            <input type="text" id="id_slug" name="slug" class="form-control" hidden>
        </div>
        <button type="submit" class="btn btn-primary">Add Category</button>
    </form>
        </section>

<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>

<script>
    function generateSlug() {
        var categoryName = document.getElementById('id_name').value;
        var slugInput = document.getElementById('id_slug');
        slugInput.value = categoryName.toLowerCase().replace(/[^a-z0-9]/g, '-').replace(/-+/g, '-').replace(/^-|-$/g, '');
    }

    document.getElementById('id_name').addEventListener('input', generateSlug);
</script>
</body>
</html>
{% endblock %}